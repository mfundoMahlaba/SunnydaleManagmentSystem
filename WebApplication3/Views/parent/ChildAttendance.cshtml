@model WebApplication3.ViewModels.StudentAttendanceFilterViewModel
@{
    ViewBag.Title = "Child Attendance";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- Styles remain unchanged -->
<style>
    /* ... same styles as your original view ... */
</style>

<div class="container mt-4">
    <h3 class="mb-4">📅 Attendance for @ViewBag.StudentName (ID: @ViewBag.StudentId)</h3>

    @using (Html.BeginForm("ChildAttendance", "Parent", FormMethod.Get))
    {
        <div class="row mb-3">
            <div class="col-md-4">
                @Html.Label("Subject", new { @class = "form-label" })
                @Html.DropDownList("SubjectId", Model.SubjectOptions, "-- Subject --", new { @class = "form-select searchable-subject" })
            </div>

            <div class="col-md-4">
                @Html.Label("From Date", new { @class = "form-label" })
                @Html.TextBox("FromDate", Model.FromDate?.ToString("yyyy-MM-dd"), new { @class = "form-control", type = "date" })
            </div>
            <div class="col-md-4">
                @Html.Label("To Date", new { @class = "form-label" })
                @Html.TextBox("ToDate", Model.ToDate?.ToString("yyyy-MM-dd"), new { @class = "form-control", type = "date" })
            </div>
        </div>
        <button type="submit" class="btn btn-primary mb-4">🔍 Filter</button>
    }

    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>Date</th>
                <th>Subject</th>
                <th>Period</th>
                <th>Present</th>
                <th>Remarks</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var record in Model.Records)
            {
                <tr>
                    <td>@record.Date.ToString("yyyy-MM-dd")</td>
                    <td>@record.SubjectName</td>
                    <td>@record.PeriodName</td>
                    <td class="text-center">@record.IsPresent</td>
                    <td>@record.Remarks</td>
                </tr>
            }
        </tbody>
    </table>

    <div class="mb-3 text-end">
        <a href="@Url.Action("Dashboard", "Parent")" class="btn btn-sm btn-outline-secondary">
            <i class="bi bi-house-door"></i> Back to Dashboard
        </a>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('.searchable-subject').select2({
            placeholder: "Search subject...",
            allowClear: true,
            width: '100%'
        });
    });
</script>
